<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Get Started</title>
    <style>
body {
  font: 1.17rem/1.6 Georgia, 'Times New Roman', serif;
  padding: 2rem 0 8em 0;
  max-width: 700px;
  margin: 0 auto;
  padding: 0 1rem;
  margin-bottom: 64px;
  color: #111;
}

h1, h2, h3, h4, .sans {
  font-family: 'Helvetica Neue', 'Arial Nova', Helvetica, Arial, sans-serif;
  margin-bottom: 0;
}

h2, h3, h4 {
  margin-top: 2em;
}

nav {
  margin-top: 32px;
  display: flex;
  gap: 32px;
}

nav a {
  text-decoration: none;
  color: black;
  font-weight: bold;
}

nav .active {
  text-decoration: underline;
}

pre, code {
  font-family: Consolas, Menlo, Monaco, monospace;
  font-size: 0.9em;
  border-radius: 4px;
  background-color: ghostwhite;
  padding: 4px;
}

pre code {
  padding: 0;
  background: none;
}

pre {
  padding: 12px;
  overflow-x: auto;
}

main > pre {
  margin-left: -6px;
}

img, svg {
  max-width: 100%;
}

.permalink {
  color: inherit;
  text-decoration: none;
}
    </style>
  </head>
  <body>
    <main>
      <nav class="sans">
        <a href="/" class="">Sietch</a><a href="/get-started.html" class="active">Get Started</a><a href="/reference/" class="">Reference</a>
      </nav>

      <h1>Get Started</h1>

      <p>Start by installing Sietch.</p>
<pre tabindex="0" style="color:#b0c4de;background-color:#282c34;"><code><span style="display:flex;"><span><span style="color:#8a93a5;font-style:italic"># TODO</span>
</span></span></code></pre><p>Create a new directory for your site and add an <code>index.md</code> file like the one below.</p>
<pre tabindex="0" style="color:#b0c4de;background-color:#282c34;"><code><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>title: Example Post
</span></span><span style="display:flex;"><span>date: 2022-10-10
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>This is an example post.
</span></span></code></pre><p>Then run sietch to build your site.</p>
<pre tabindex="0" style="color:#b0c4de;background-color:#282c34;"><code><span style="display:flex;"><span>sietch
</span></span></code></pre><p>During development you can serve your site locally with livereloading.</p>
<pre tabindex="0" style="color:#b0c4de;background-color:#282c34;"><code><span style="display:flex;"><span>sietch --serve
</span></span></code></pre><a href="#islands--interactivity" class="permalink"><h2 id="islands--interactivity">Islands &amp; Interactivity</h2></a><p>Add the following <code>counter.ts</code> file to the directory.</p>
<pre tabindex="0" style="color:#b0c4de;background-color:#282c34;"><code><span style="display:flex;"><span><span style="color:#c678dd">export</span> <span style="color:#c678dd">let</span> <span style="color:#c1abea">render</span> <span style="color:#c7bf54">=</span> ({ <span style="color:#c1abea">count</span> }) <span style="color:#c7bf54">=&gt;</span> <span style="color:#98c379">`&lt;button&gt;</span><span style="color:#98c379">${</span><span style="color:#c1abea">count</span><span style="color:#98c379">}</span><span style="color:#98c379">&lt;/button&gt;`</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">export</span> <span style="color:#c678dd">let</span> <span style="color:#c1abea">hydrate</span> <span style="color:#c7bf54">=</span> ({ <span style="color:#c1abea">count</span> }, <span style="color:#c1abea">element</span>: <span style="color:#ef8383">HTMLElement</span>) <span style="color:#c7bf54">=&gt;</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">let</span> <span style="color:#c1abea">btn</span> <span style="color:#c7bf54">=</span> <span style="color:#c1abea">element</span>.<span style="color:#c1abea">querySelector</span>(<span style="color:#63c381">&#34;button&#34;</span>)<span style="color:#c7bf54">!</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#c1abea">btn</span>.<span style="color:#c1abea">onclick</span> <span style="color:#c7bf54">=</span> () <span style="color:#c7bf54">=&gt;</span> <span style="color:#c1abea">btn</span>.<span style="color:#c1abea">textContent</span> <span style="color:#c7bf54">=</span> <span style="color:#ef8383">String</span>(<span style="color:#c7bf54">++</span><span style="color:#c1abea">count</span>);
</span></span><span style="display:flex;"><span>};
</span></span></code></pre><p>Then add the code to render it to your <code>index.md</code> page.</p>
<pre tabindex="0" style="color:#b0c4de;background-color:#282c34;"><code><span style="display:flex;"><span>{{ <span style="color:#c1abea">component</span> <span style="color:#98c379">&#34;./counter&#34;</span> (<span style="color:#c1abea">props</span> <span style="color:#98c379">&#34;count&#34;</span> <span style="color:#d19a66">0</span>) }}
</span></span></code></pre><p>Islands are static by default, which means they're rendered at build time and no JS is sent to the client.</p>
<p>That means that the button below won't actually do anything.</p>
<button>0</button>
<p>We can fix that with the <code>hydrate</code> function. Opting-in to hydration means we'll ship the JS required to make the component interactive.</p>
<pre tabindex="0" style="color:#b0c4de;background-color:#282c34;"><code><span style="display:flex;"><span>{{ <span style="color:#c1abea">component</span> <span style="color:#98c379">&#34;./counter&#34;</span> (<span style="color:#c1abea">props</span> <span style="color:#98c379">&#34;count&#34;</span> <span style="color:#d19a66">0</span>) | <span style="color:#c1abea">hydrate</span> }}
</span></span></code></pre><p>Let's see it in action.</p>
<div id="3ba3_1"><button>0</button></div>
<p>Note that the button was still rendered at build time, so browsers with slow connections, or JavaScript disabled would still see a button as soon as they opened the page.</p>
<p>If you take a peek at the bundle we're sending to the client now, you'll notice that we aren't shipping the <code>render</code> function to the client, because it isn't used.</p>
<a href="#preact" class="permalink"><h2 id="preact">Preact</h2></a><p>You can also use <a href="https://preactjs.com/" target="_blank" rel="noopener noreferrer">Preact</a> for your islands. Create a <code>.sietch.json</code> file that sets the framework.</p>
<pre tabindex="0" style="color:#b0c4de;background-color:#282c34;"><code><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#e06c75">&#34;Framework&#34;</span>: <span style="color:#63c381">&#34;preact-remote&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre><p>Now rename the <code>counter.ts</code> to <code>counter.tsx</code> and update the code to work with Preact.</p>
<pre tabindex="0" style="color:#b0c4de;background-color:#282c34;"><code><span style="display:flex;"><span><span style="color:#c678dd">import</span> { <span style="color:#c1abea">useState</span> } <span style="color:#c678dd">from</span> <span style="color:#63c381">&#34;preact/hooks&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">export</span> <span style="color:#c678dd">default</span> ({ <span style="color:#c1abea">count</span>: <span style="color:#ef8383">init</span> <span style="color:#c7bf54">=</span> <span style="color:#d19a66">0</span> }) <span style="color:#c7bf54">=&gt;</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">let</span> [<span style="color:#c1abea">count</span>, <span style="color:#c1abea">setCount</span>] <span style="color:#c7bf54">=</span> <span style="color:#c1abea">useState</span>(<span style="color:#c1abea">init</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">return</span> &lt;<span style="color:#e06c75">button</span> <span style="color:#b3d23c">onClick</span><span style="color:#c7bf54">=</span>{() <span style="color:#c7bf54">=&gt;</span> <span style="color:#c1abea">setCount</span>(<span style="color:#c1abea">count</span> <span style="color:#c7bf54">+</span> <span style="color:#d19a66">1</span>)}&gt;{<span style="color:#c1abea">count</span>}&lt;/<span style="color:#e06c75">button</span>&gt;;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre><p>Now your island is powered by Preact.</p>
<p>Why <code>preact-remote</code>? This means we'll install the <code>preact</code> dependency from a CDN (<a href="https://esm.sh/" target="_blank" rel="noopener noreferrer">esm.sh</a>), rather than from a <code>node_modules</code> folder. This approach is what allows Sietch to work without node or npm installed.</p>
<a href="#what-next" class="permalink"><h2 id="what-next">What Next?</h2></a><p>Check out the <a href="./reference/islands.html">islands reference</a> for more information on using islands and integrating component libraries like <a href="https://preactjs.com" target="_blank" rel="noopener noreferrer">Preact</a>.</p>

    </main>
  <script type="module" src="/_assets/bundle-3ba3.js"></script>
<script>new WebSocket(`ws://${location.host}/ws`).onmessage = () => location.reload()</script></body>
</html>
